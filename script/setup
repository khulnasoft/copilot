#!/bin/bash
# Setup development environment 

set -e # Exit on error

echo "ğŸš€ Setting up development environment..."

# Check for required tools
command -v go >/dev/null 2>&1 || { echo "âŒ Go is required but not installed. Please install Go first."; exit 1; }

# Initialize Go module if it doesn't exist
if [ ! -f "go.mod" ]; then
    echo "ğŸ“ Initializing Go module..."
    go mod init github.com/macsf/copilot
fi

# Install dependencies
echo "ğŸ“¦ Installing dependencies..."
go mod download

# Build the project
echo "ğŸ”¨ Building project..."
go build -v ./...

# Run tests
echo "ğŸ§ª Running tests..."
go test -v ./...

# Install development tools
echo "ğŸ› ï¸ Installing development tools..."
go install golang.org/x/lint/golint@latest
go install golang.org/x/tools/cmd/goimports@latest

echo "âœ… Setup complete! You're ready to start developing." 